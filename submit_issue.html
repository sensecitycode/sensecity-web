<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>sense.city</title>
    <meta name="description" content="sense.city" />
	<!-- based on a free Bootstrap landing page theme created for BootstrapZero. Feature video background and one page design. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Codeply">
    <!-- <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" /> -->
	<link rel="stylesheet" href="_css/bootstrap.min.css" />
    <link href="http://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" rel="stylesheet">
	<link rel="stylesheet" href="css/leaflet.css" />
	<link rel="stylesheet" href="css/leaflet.awesome-markers.css">
	<script src="js/leaflet.js"></script> 
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <nav id="topNav" class="navbar navbar-default navbar-fixed-top">
        <!-- <div class="container-fluid">-->
		<div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#first"><i class="ion-ios-analytics-outline"></i> sense.city
				<sup style="font-size: 55%">beta</sup></a>
            </div>
            <div class="navbar-collapse collapse" id="bs-navbar">
                <ul class="nav navbar-nav">
                    <li>
                        <a class="page-scroll" href="#one">Η ΠΟΛΗ</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#two">ΣΥΜΜΕΤΟΧΗ</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#three">sense.city app</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#four">ΔΕΔΟΜΕΝΑ</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#last">ΕΠΙΚΟΙΝΩΝΙΑ</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a class="page-scroll" data-toggle="modal" title="sense.city @ Πάτρα" href="#aboutModal">Σχετικα</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    
	<div class="container" style="padding-top:150px;">
		<div class="col-md-8"> 
			<div id="map" style="color: black; height:550px;"></div>
		</div>
		<div class="col-md-4"> 
			<div class="form-group">
				<label for="exampleInputEmail1" style="color: #000000; font-weight: 300;" >Γεωγραφικό Μήκος</label>
				<input type="text" class="form-control" id="lng" placeholder="Γεωγραφικό Μήκος" readonly style="background-color: black;">
			</div>
			<div class="form-group">
				<label for="exampleInputEmail1" style="color: #000000; font-weight: 300;">Γεωγραφικό Πλάτος</label>
				<input type="text" class="form-control" id="lat" placeholder="Γεωγραφικό Πλάτος" readonly style="background-color: black;">
			</div>
			<div class="form-group">
				<label for="exampleInputEmail1" style="color: #000000; font-weight: 300;">Τύπος προβλήματος</label>
				<select id="type-issue" name="type-issue" class="form-control">
				  <option value="">Επιλέξτε τύπο προβλήματος</option>
				  <option value="garbage">Σκουπίδια</option>
				  <option value="lighting">Φωτισμός</option>
				  <option value="plumbing">Ύδρευση</option>
				  <option value="road-contructor">Οδόστρωμα</option>				  
				</select>
			</div>
			<div class="form-group">
				<label for="exampleInputEmail1" style="color: #000000; font-weight: 300;">Προβλήμα</label>
				<select id="issue" name="issue" class="form-control">
					<option value="">Επιλέξτε προβλήματος</option>
				</select>
			</div>
			<div class="form-group" id="other-txt" style="display:none;">
				<label for="exampleInputEmail1" style="color: #000000; font-weight: 300;">Περιγραφή</label>
				<input type="text" class="form-control" id="lat" placeholder="Γεωγραφικό Πλάτος" style="background-color: black;">
			</div>
			
			<div class="form-group">
				<label for="exampleInputFile" style="color: #000000; font-weight: 300;">Φωτογραφία</label>
				<input type="file" id="exampleInputFile">
			</div>			
			<a href="#" id="btnsubmit" class="btn btn-primary" style="background-color: #76a0ff !important;">Αποστολή</a>
		</div>
    </div>
   
    
    <footer id="footer" style="background-color:#D0D0D0;">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-9 column">
                    <h4>Πληροφορίες</h4>
                    <ul class="list-inline">
                        <li><a href="">Products</a></li>
                        <li><a href="">Services</a></li>
                        <li><a href="">Benefits</a></li>
                        <li><a href="">Developers</a></li>
						<li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms &amp; Conditions</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 text-right">
                    <h4>Ακολουθήστε μας</h4>
                    <ul class="list-inline">
                      <li><a rel="nofollow" href="" title="Twitter"><i class="icon-lg ion-social-twitter-outline"></i></a>&nbsp;</li>
                      <li><a rel="nofollow" href="https://www.facebook.com/sensecitybook" title="Facebook"><i class="icon-lg ion-social-facebook-outline"></i></a>&nbsp;</li>
                      <li><a rel="nofollow" href="" title="Ιnstagram"><i class="icon-lg ion-social-instagram-outline"></i></a></li>
                    </ul>
                </div>
            </div>
            <br/>
            <span class="pull-right text-muted small"><a href="http://www.bootstrapzero.com">Theme by: Landing Zero by BootstrapZero</a> ©2015 Πανεπιστήμιο Πατρών</span>
        </div>
    </footer>
    <div id="galleryModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
        <div class="modal-content">
        	<div class="modal-body">
        		<img src="//placehold.it/1200x700/222?text=..." id="galleryImage" class="img-responsive" />
        		<p>
        		    <br/>
        		    <button class="btn btn-primary btn-lg center-block" data-dismiss="modal" aria-hidden="true">Close <i class="ion-android-close"></i></button>
        		</p>
        	</div>
        </div>
        </div>
    </div>
    <div id="aboutModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
        	<div class="modal-body">
        		<h2 class="text-center">sense.city @ Πάτρα</h2>
        		<h5 class="text-center">
        		    Συμμετέχω ενεργά στη πόλη μου
        		</h5>
        		<p class="text-justify">
        		   Οι πολίτες είστε οι αισθητήρες της πόλης! Χρησιμοποιώντας τις δικές σας συσκευές επικοινωνίας, είτε μέσω της εφαρμογής sense.city είτε με άλλες συσκευές που αναφέρουν στο sense.city δεδομένα της πόλης, ενημερώνετε τους συμπολίτες και το δήμο για προβλήματα και συμβάντα που συμβαίνουν κάθε στιγμή.
        		</p>
        		
        		<br/>
        		<button class="btn btn-primary btn-lg center-block" data-dismiss="modal" aria-hidden="true"> OK </button>
        	</div>
        </div>
        </div>
    </div>
    
    <!--scripts loaded here from cdn for performance -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
     <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> 
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.js"></script>
	<script src="js/leaflet.awesome-markers.js"></script>
    <script src="js/scripts.js"></script>
	
	
	<link rel="stylesheet" type="text/css" href="_css/MarkerCluster.css" />
    <link rel="stylesheet" type="text/css" href="_css/MarkerCluster.Default.css" />
	<link rel="stylesheet" type="text/css" href="css/leaflet.extra-markers.min.css" />
	
	<script type='text/javascript' src='js/leaflet.markercluster.js'></script>
	<script type='text/javascript' src='js/leaflet.extra-markers.min.js'></script>
	
	
	
	 <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
    <!-- <script>window.jQuery || document.write('<script src="_js/vendor/jquery.min.js"><\/script>')</script> -->
    <!-- <script src="_js/bootstrap.min.js"></script> -->
    <!-- <script src="_js/docs.min.js"></script> -->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->

	<script>
		
		
		jQuery(document).ready(function(){				
			// when any option from country list is selected
			$("select[name='type-issue']").change(function(){			
			
				// get the selected option value of country
				var optionValue = $("select[name='type-issue']").val();		
				
			switch(optionValue){
			
				case "garbage":
					var select = document.getElementById("issue");
					$('#issue').empty();
					var options = ["Επιλέξτε προβλήματος", "Χαλασμένος Κάδος", "Γεμάτος Κάδος", "Έλλειψη κάδου", "Άλλο"];
					for(var i = 0; i < options.length; i++) {
						var opt = options[i];
						var el = document.createElement("option");
						el.textContent = opt;
						if(i+1 == options.length)
						{
							el.value = "other";
						}else if(i==0){
							el.value = "";
						}
						else{
							el.value = opt;
						}
						
						
						select.appendChild(el);
					}
					
					break;
				case "lighting":
					var select = document.getElementById("issue");
					$('#issue').empty();
					var options = ["Επιλέξτε προβλήματος", "Καμμένος Λαμπτήρας", "Σπασμένος Βραχίωνας", "Ανεπαρκής Φωτισμός", "Άλλο"];
					for(var i = 0; i < options.length; i++) {
						var opt = options[i];
						var el = document.createElement("option");
						el.textContent = opt;
						if(i+1 == options.length)
						{
							el.value = "other";
						}else if(i==0){
							el.value = "";
						}
						else{
							el.value = opt;
						}
						
						
						select.appendChild(el);
					}
					
					break;
				case "plumbing":
					var select = document.getElementById("issue");
					$('#issue').empty();
					var options = ["Επιλέξτε προβλήματος", "Βουλωμένο Φρεάτιο", "Σπασμένο Φρεάτιο", "Άλλο"];
					for(var i = 0; i < options.length; i++) {
						var opt = options[i];
						var el = document.createElement("option");
						el.textContent = opt;
						if(i+1 == options.length)
						{
							el.value = "other";
						}else if(i==0){
							el.value = "";
						}
						else{
							el.value = opt;
						}
						
						
						select.appendChild(el);
					}
					
					break;
				case "road-contructor":
					var select = document.getElementById("issue");
					$('#issue').empty();
					var options = ["Επιλέξτε προβλήματος", "Σπασμένες Πλάκες", "Αντικείμενο που εμποδίζει", "Εγκαταλ. Αυτοκίνητο", "Άλλο"];
					for(var i = 0; i < options.length; i++) {
						var opt = options[i];
						var el = document.createElement("option");
						el.textContent = opt;
						if(i+1 == options.length)
						{
							el.value = "other";
						}else if(i==0){
							el.value = "";
						}
						else{
							el.value = opt;
						}
						
						
						select.appendChild(el);
					}
					
					break;
			}				
						
			});
			
			
			
			
			
			$("select[name='issue']").change(function(){		
				var optionValue1 = $("select[name='issue']").val();		
					
				if(optionValue1 =="other" )
				{
					$("#other-txt").css("display", "block");
				}
				else{
					$("#other-txt").css("display", "none");
				}
			
			});
			
		});
	
	
		
				var map = L.map('map').setView( new L.LatLng( 38.2466395, 21.734574 ), 12);
				
				var newMarker;
				
				L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
						attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
						maxZoom: 18, }).addTo(map);
						
						var garbageMarkers = L.markerClusterGroup({disableClusteringAtZoom: 18, animateAddingMarkers: true, spiderfyDistanceMultiplier: true}).addTo(map);
						var lightingMarkers = L.markerClusterGroup({disableClusteringAtZoom: 18, animateAddingMarkers: true, spiderfyDistanceMultiplier: true}).addTo(map);
						var plumpingMarkers = L.markerClusterGroup({disableClusteringAtZoom: 18, animateAddingMarkers: true, spiderfyDistanceMultiplier: true}).addTo(map);
						var roadConstMarkers = L.markerClusterGroup({disableClusteringAtZoom: 18, animateAddingMarkers: true, spiderfyDistanceMultiplier: true}).addTo(map);
						var smiliesMarkers = L.markerClusterGroup({disableClusteringAtZoom: 18, animateAddingMarkers: true, spiderfyDistanceMultiplier: true}).addTo(map);
						var kadoiMarkers = L.markerClusterGroup({disableClusteringAtZoom: 18, animateAddingMarkers: true, spiderfyDistanceMultiplier: true}).addTo(map);
						var fotistikoMarkers = L.markerClusterGroup({disableClusteringAtZoom: 18, animateAddingMarkers: true, spiderfyDistanceMultiplier: true}).addTo(map);
						
						
						
				map.scrollWheelZoom.disable();
				/*
				var overlayMaps = {
					"Προβλήματα σκουπιδιών": garbageMarkers,
					"Προβλήματα φωτισμού": lightingMarkers,
					"Προβλήματα ύδρευσης": plumpingMarkers,
					"Προβλήματα οδοστρώματος": roadConstMarkers,
					"Ανάδραση πολιτών": smiliesMarkers,
					"Κάδοι": kadoiMarkers,
					"Φωτισμός": fotistikoMarkers
				};	*/
				
				
				
				
				map.on('click', onClick);
				
				
				

				function onClick(e) {
					
					console.log(e.latlng["lat"]);
					console.log(e.latlng["lng"]);
					
					var redMarker = L.AwesomeMarkers.icon({
									icon: 'info-circle',
									prefix: 'fa',
									markerColor: 'red'
								  });
					
					
					if(typeof(newMarker)==='undefined')
					{
						newMarker = new L.marker(e.latlng, {icon: redMarker},{ draggable: true});
						newMarker.addTo(map);        
					}
					else 
					{
						newMarker.setLatLng(e.latlng);
					}
  
					//newMarker = new L.marker(e.latlng, {icon: redMarker}).addTo(map);
					
					$("#lat").val(e.latlng["lat"]);
					$("#lng").val(e.latlng["lng"]);
					
				}
				
				L.control.layers(null).addTo(map);
				
				
				
				
				
			</script>
			
			<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-73253016-1', 'auto');
			  ga('send', 'pageview');

			</script>
  </body>
</html>